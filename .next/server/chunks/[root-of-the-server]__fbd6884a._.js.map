{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/api/coingecko/route.ts"],"sourcesContent":["\nimport { NextResponse, type NextRequest } from 'next/server';\n\nexport async function GET(request: NextRequest) {\n  const { searchParams } = request.nextUrl;\n  const endpoint = searchParams.get('endpoint');\n\n  if (!endpoint) {\n    return NextResponse.json({ error: 'Endpoint is required' }, { status: 400 });\n  }\n\n  // Ваш Demo API Key\n  const apiKey = 'CG-6yHB5LdyyUmGeK3GPxzzsUYH';\n  const baseUrl = 'https://api.coingecko.com/api/v3/';\n\n  const externalParams = new URLSearchParams();\n  searchParams.forEach((value, key) => {\n    if (key !== 'endpoint') {\n      externalParams.set(key, value);\n    }\n  });\n\n  const apiUrl = `${baseUrl}${endpoint}?${externalParams.toString()}`;\n\n  try {\n    const apiResponse = await fetch(apiUrl, {\n      headers: { \n        'Accept': 'application/json',\n        'x-cg-demo-api-key': apiKey\n      },\n      next: { revalidate: 60 } // Кэшируем на стороне сервера на 1 минуту\n    });\n\n    if (!apiResponse.ok) {\n        const errorBody = await apiResponse.json().catch(() => ({}));\n        return NextResponse.json(\n            { error: `CoinGecko API failed`, details: errorBody },\n            { status: apiResponse.status }\n        );\n    }\n\n    const data = await apiResponse.json();\n    return NextResponse.json(data);\n\n  } catch (error: any) {\n    return NextResponse.json({ error: 'Failed to fetch from CoinGecko', message: error.message }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AACA;;AAEO,eAAe,IAAI,OAAoB;IAC5C,MAAM,EAAE,YAAY,EAAE,GAAG,QAAQ,OAAO;IACxC,MAAM,WAAW,aAAa,GAAG,CAAC;IAElC,IAAI,CAAC,UAAU;QACb,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAuB,GAAG;YAAE,QAAQ;QAAI;IAC5E;IAEA,mBAAmB;IACnB,MAAM,SAAS;IACf,MAAM,UAAU;IAEhB,MAAM,iBAAiB,IAAI;IAC3B,aAAa,OAAO,CAAC,CAAC,OAAO;QAC3B,IAAI,QAAQ,YAAY;YACtB,eAAe,GAAG,CAAC,KAAK;QAC1B;IACF;IAEA,MAAM,SAAS,GAAG,UAAU,SAAS,CAAC,EAAE,eAAe,QAAQ,IAAI;IAEnE,IAAI;QACF,MAAM,cAAc,MAAM,MAAM,QAAQ;YACtC,SAAS;gBACP,UAAU;gBACV,qBAAqB;YACvB;YACA,MAAM;gBAAE,YAAY;YAAG,EAAE,0CAA0C;QACrE;QAEA,IAAI,CAAC,YAAY,EAAE,EAAE;YACjB,MAAM,YAAY,MAAM,YAAY,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;YAC1D,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,OAAO,CAAC,oBAAoB,CAAC;gBAAE,SAAS;YAAU,GACpD;gBAAE,QAAQ,YAAY,MAAM;YAAC;QAErC;QAEA,MAAM,OAAO,MAAM,YAAY,IAAI;QACnC,OAAO,gJAAY,CAAC,IAAI,CAAC;IAE3B,EAAE,OAAO,OAAY;QACnB,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;YAAkC,SAAS,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IAC9G;AACF","debugId":null}}]
}