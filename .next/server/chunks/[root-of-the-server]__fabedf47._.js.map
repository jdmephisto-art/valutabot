{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/api/ecb/route.ts"],"sourcesContent":["\nimport { NextResponse } from 'next/server';\nimport { parseStringPromise } from 'xml2js';\n\nexport async function GET() {\n  const url = 'https://www.ecb.europa.eu/stats/eurofxref/eurofxref-daily.xml';\n\n  try {\n    const apiResponse = await fetch(url, {\n      next: { revalidate: 3600 }\n    });\n\n    if (!apiResponse.ok) {\n      return NextResponse.json({ error: 'ECB API failed' }, { status: apiResponse.status });\n    }\n\n    const xmlText = await apiResponse.text();\n    const jsonData = await parseStringPromise(xmlText);\n    \n    const rates: Record<string, number> = {};\n    const cubeWrap = jsonData?.['gesmes:Envelope']?.Cube?.[0]?.Cube?.[0]?.Cube;\n    \n    if (cubeWrap) {\n      cubeWrap.forEach((item: any) => {\n        const currency = item.$.currency;\n        const rate = parseFloat(item.$.rate);\n        rates[currency] = rate;\n      });\n      // Base is EUR\n      rates['EUR'] = 1;\n    }\n\n    return NextResponse.json(rates);\n  } catch (error: any) {\n    return NextResponse.json({ error: 'Failed to fetch from ECB', message: error.message }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAEO,eAAe;IACpB,MAAM,MAAM;IAEZ,IAAI;QACF,MAAM,cAAc,MAAM,MAAM,KAAK;YACnC,MAAM;gBAAE,YAAY;YAAK;QAC3B;QAEA,IAAI,CAAC,YAAY,EAAE,EAAE;YACnB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAiB,GAAG;gBAAE,QAAQ,YAAY,MAAM;YAAC;QACrF;QAEA,MAAM,UAAU,MAAM,YAAY,IAAI;QACtC,MAAM,WAAW,MAAM,IAAA,+JAAkB,EAAC;QAE1C,MAAM,QAAgC,CAAC;QACvC,MAAM,WAAW,UAAU,CAAC,kBAAkB,EAAE,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE;QAEtE,IAAI,UAAU;YACZ,SAAS,OAAO,CAAC,CAAC;gBAChB,MAAM,WAAW,KAAK,CAAC,CAAC,QAAQ;gBAChC,MAAM,OAAO,WAAW,KAAK,CAAC,CAAC,IAAI;gBACnC,KAAK,CAAC,SAAS,GAAG;YACpB;YACA,cAAc;YACd,KAAK,CAAC,MAAM,GAAG;QACjB;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAY;QACnB,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;YAA4B,SAAS,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACxG;AACF","debugId":null}}]
}